<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Senior High School Profiling Form</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #f9f9f9;
    }
    form {
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      max-width: 600px;
      margin: 0 auto;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    label {
      display: block;
      margin-top: 10px;
    }
    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    button {
      background-color: #9b1c20;
      color: #fff;
      padding: 12px;
      border: none;
      border-radius: 5px;
      margin-top: 20px;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover {
      background-color: #7e161a;
    }
  </style>
</head>
<body>

  <form id="shsForm">
    <h2>Senior High School Profiling Form</h2>

    <label>Region</label>
    <select id="region" required>
      <option value="">Select Region</option>
      <option value="IV-A">Region IV-A</option>
    </select>

    <label>Province</label>
    <select id="province" required>
      <option value="">Select Province</option>
      <option value="Batangas">Batangas</option>
      <option value="Cavite">Cavite</option>
      <option value="Laguna">Laguna</option>
      <option value="Quezon">Quezon</option>
      <option value="Rizal">Rizal</option>
    </select>

    <label>City/Municipality</label>
    <select id="city" required>
      <option value="">Select City/Municipality</option>
    </select>

    <label>HH ID</label><input type="text" required>
    <label>Last Name</label><input type="text" required>
    <label>First Name</label><input type="text" required>
    <label>Middle Name</label><input type="text">
    <label>Extension Name</label><input type="text">

    <label>Birthday</label><input type="date" required>

    <label>Sex</label>
    <select required>
      <option value="">Select</option>
      <option>Male</option>
      <option>Female</option>
    </select>

    <label>Civil Status</label>
    <select required>
      <option value="">Select</option>
      <option>Single</option>
      <option>Married</option>
      <option>Widowed</option>
      <option>Separated</option>
    </select>

    <label>IP Affiliation</label><input type="text" placeholder="Enter Non-IP if None">

    <label>Disability</label>
    <select required>
      <option value="">Select</option>
      <option>Yes</option>
      <option>No</option>
    </select>

    <label>Attending School</label>
    <select required>
      <option value="">Select</option>
      <option>Yes</option>
      <option>No</option>
    </select>

    <label>Grade Level</label><input type="text" required>

    <label>Track</label>
    <select id="track" required>
      <option value="">Select</option>
      <option>Academic</option>
      <option>Technical-Vocational-Livelihood</option>
    </select>

    <label>Strand</label>
    <select id="strand" required>
      <option value="">Select a track first</option>
    </select>

    <label>Curriculum Exit</label>
    <select required>
      <option value="">Select</option>
      <option>Employment</option>
      <option>Entrepreneurship</option>
      <option>Middle-level Skills Development</option>
      <option>Higher Education</option>
    </select>

    <button type="submit">Submit</button>
  </form>

  <script>
    const cityData = {
      Batangas: ["Batangas City", "Lipa City", "Tanauan City"],
      Cavite: ["Tagaytay City", "Imus", "Bacoor"],
      Laguna: ["San Pablo", "Calamba", "Sta. Rosa"],
      Quezon: ["Lucena City", "Tayabas", "Candelaria"],
      Rizal: ["Antipolo", "Binangonan", "Cainta"]
    };

    document.getElementById('province').addEventListener('change', function() {
      const province = this.value;
      const cities = cityData[province] || [];
      const citySelect = document.getElementById('city');
      citySelect.innerHTML = '<option value="">Select City/Municipality</option>';
      cities.forEach(city => {
        const option = document.createElement('option');
        option.textContent = city;
        citySelect.appendChild(option);
      });
    });

    document.getElementById('track').addEventListener('change', function() {
      const strand = document.getElementById('strand');
      strand.innerHTML = '<option value="">Select a track first</option>';
      if (this.value === 'Academic') {
        ['STEM', 'ABM', 'HUMSS', 'GAS'].forEach(s => {
          const option = document.createElement('option');
          option.text = s;
          strand.appendChild(option);
        });
      }
    });

    document.getElementById('shsForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = new FormData(this);
      const data = {};
      formData.forEach((value, key) => data[key] = value);

      fetch('https://casemanagement-server.onrender.com/submit-shs', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      })
      .then(res => res.ok ? alert('Form submitted successfully!') : alert('Error submitting form.'));
    });
  </script>
</body>
</html>
